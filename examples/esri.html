<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Mapstraction Examples - esri</title>
<link href="http://serverapi.arcgisonline.com/jsapi/arcgis/3.0/js/dojo/dijit/themes/claro/claro.css" media="all" rel="stylesheet" type="text/css" />
<script src="http://serverapi.arcgisonline.com/jsapi/arcgis/?v=3.1" type="text/javascript"></script>
<script src="../source/mxn.js?(esri)" type="text/javascript"></script>


<style type="text/css">
html, body, #mapDiv {
      padding:0;
      margin:0;
      height:400px;
    }
</style> 
<script type="text/javascript">
//<![CDATA[

  var map;
  function initialize() {
      // create mxn object
      map = new mxn.Mapstraction('mapDiv', 'esri');
      console.log('made mapstraction map');
      //map.setMapType(mxn.Mapstraction.SATELLITE);
      latlon = new mxn.LatLonPoint(41.84756115424155,-91.70015573501587)
      latlon2 = new mxn.LatLonPoint(41.88756115424155,-91.67015573501587)
      
      // put map on page
      // map.setCenterAndZoom(latlon, 12);
  }
  
  var polyline;
  getCenter = function() {
    var center = map.getCenter();
    alert(center.lat + " " + center.lon);
  }
  alertBounds = function() { 
    var bounds = map.getBounds();
    var sw = bounds.getSouthWest();
    var ne = bounds.getNorthEast();
    alert(sw.lat + " " + sw.lon + " " + ne.lat + " " + ne.lon);
  }
  addMarker = function() {
    // add a marker
    marker = new mxn.Marker(map.getCenter());
    marker.setIcon("http://static.arcgis.com/images/Symbols/Shapes/BluePin1LargeB.png")
    marker.setIconSize([32,32]);
    marker.setIconAnchor([0,16])
    map.addMarker(marker);
    // marker.addData({'infoBubble': 'This is a popup'})
    // marker.openBubble();
  }
  addPolyline = function() {
    polyline = new mxn.Polyline([
        new mxn.LatLonPoint(53.94, 48.96),
        new mxn.LatLonPoint(53.50, 49.03),
        new mxn.LatLonPoint(53.41, 49.38),
        new mxn.LatLonPoint(53.43, 50.02),
        new mxn.LatLonPoint(53.33, 50.19),
        new mxn.LatLonPoint(53.26, 50.21),
        new mxn.LatLonPoint(53.13, 50.05),
        new mxn.LatLonPoint(53.19, 49.83),
        new mxn.LatLonPoint(53.11, 49.54),
        new mxn.LatLonPoint(53.20, 49.20),
        new mxn.LatLonPoint(53.10, 48.70),
        new mxn.LatLonPoint(52.93, 48.56),
        new mxn.LatLonPoint(52.54, 48.26)
      ]);
    polyline.width = 3;         
    polyline.color = '#00DD55';
    polyline.closed = true;
    polyline.fillColor = '#0077ff';
    polyline.opacity = 0.6;
    map.addPolyline(polyline);      
    map.setCenterAndZoom(new mxn.LatLonPoint(53.94, 48.96), 7)  
  }
  dojo.addOnLoad(initialize);
//]]>
</script> 
</head>
<body>
<div id="mapDiv"></div>
      

</script> 
<h2>Demo Functions</h2>
<ul>
  <li><a href="javascript:map.setBounds( new mxn.BoundingBox(51.9,-4.3,52.25,-3.75) );">click me to set bounds</a>.</li>
  <li><a href="javascript:alertBounds();">click me to get bounds</a> </li>
  <li><a href="javascript:map.setZoom( map.getZoom()-1 );">click me to decrement zoom</a>.</li>
  <li><a href="javascript:map.setZoom( map.getZoom()+1 );">click me to increment zoom</a>.</li>
  <li><a href="javascript:alert('zoom is ' + map.getZoom());">click me to get zoom</a>.</li>
  <li><a href="javascript:getCenter();">click me to getCenter</a>.</li>
  <li><a href="javascript:map.setCenter(new mxn.LatLonPoint(53.94, 48.96));">click me to setCenter</a>.</li>
  <li><a href="javascript:map.setCenter(new mxn.LatLonPoint(38.404196,-123.008194), {pan: true});">click me to pan to center</a>.</li>
  <li><a href="javascript:map.addControls({zoom:true, layers:true});">click me to add controls</a>.</li>
  <li><a href="javascript:map.addControls({});">click me to remove controls</a>.</li>
  <li><a href="javascript:map.addControls({legend:true});">click me to open legend controls</a>.</li>
  <li>resize <a href="javascript:map.resizeTo('400px','400px');">big</a> or <a href="javascript:map.resizeTo('100px','200px');">small</a></li>
  <li>basemap <a href="javascript:map.setMapType(mxn.Mapstraction.ROAD);">road</a>, <a href="javascript:map.setMapType(mxn.Mapstraction.SATELLITE);">satellite</a>, <a href="javascript:map.setMapType(mxn.Mapstraction.HYBRID);">hybrid</a></li>
  <li>click me to add a <a href="javascript:addMarker();">marker</a> or 
        <a href="javascript:addPolyline();">line</a>.</li>
</ul> 
</div>
</body>
</html>


